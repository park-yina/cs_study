# 대분류
우선 휘발성 메모리인 dram과 sdd/hdd로 나누어서 설명을 하겠습니다.
## 휘발성 메모리란
- 전원이 공급되어야만 사용 가능한 메모리로 dram의 경우 트랜지스터(스위치)와 커패시터로 이루어져 있음
- dram과 레지스터의 경우 휘발성 메모리라는 공통점은 있으나 근본적인 용도가 다름
# dram이란
- cpu가 작업을 처리하는 동안 필요한 데이터들을 가져옵니다.<br>
- cpu->디스크 컨트롤러->dram
- 일반적인 컴퓨터 아키텍처에서는 캐시 미스시 dram에서 데이터를 가져오는 경우가 많음<br>
- 이후에 언급할 sram에 비해 비용적으로 경제적이며, 더 큰 메모리를 만들기에도 용이함(sram에 비해 간단한 구조 때문)

## 캐시 메모리란
- cpu의 처리 속도의 발전에 비해 dram의 처리 속도의 발전은 태생적으로 더디므로(리프레시 때문) 시작된 아키텍처<br>
- L1/L2/L3계층으로 나뉘며 각각 L1,L2,L3의 순으로 용량이 커지며 속도는 반대로 짜여져있음<br>
- 이는 캐시 미스로 인한 오버헤드 현상을 최대한 방지하기 위한 것으로 캐시 미스로 인해 dram에 접근하는 횟수가 잦아지면 지연이 발생함

# HDD메모리
- 물리적으로는 `섹터`라는 키워드의 논리적으로는 `테이블`이라는 개념을 사용함
- HDD는 태생적으로 SDD에 비해 속도가 느릴 수 밖에 없는데 이는 레코드판과 비슷한 원리를 사용하기 때문이다(물리적인 rpm의 한계성)
- 하드디스크는 초반에는 클러스터를 순서대로 사용한다.
    - 그러나 클러스터의 빈공간보다 큰 하나의 파일이 들어온다면, 여러개의 클러스터에 분산을 시켜서 기록한다.
    - 이 과정이 반복되면 헤드가 여러번 이동을 해야하므로 데이터를 읽거나 쓰는 속도가 느려지게 된다
        - 해결책: 디스크 조각 모으기
## 디스크 조각 모으기의 원리
위에서 말한 단편화된 파일들을 만약 가능하다면, 클러스터의 연속된 공간에 재배치를 시켜준다.
## 클러스터의 정의
하드웨어적인 단위인 여러개의 섹터를 모아 os가 관리하는 최소한의 단위를 만들어낸 것
## 클러스터와 테이블의 차이
클러스터는 os가 관리하는 최소한의 섹터 단위라면, 테이블은 클러스터의 주소값을 담은 것에 가깝다.<br>
즉 파일을 담고있는 클러스터를 가르키기 위한 가상주소에 가까우므로, 실질적인 주소의 위치를 알고싶다면 매핑과정을 거쳐야한다.

# SSD
- NAND플래시의 일종 즉 반도체로 간단하게 설명하면 우리가 들고다니는 usb를 저장장치화 한 것이라고 생각하면 된다.<br>
- ssd는 셀이라는 단위로 작동을 하며(전기적인 관점에서 최소한의 단위) 굉장히 빠르다는 특성 때문에 hdd와는 다르게 cpu에서 접근을 하게된다.
  ## 접근 방식
  hdd의 경우 간단하게 cpu->디스크 컨트롤러->hdd라고 작성을 하였지만 저 사이에는 데이터를 이동시키기 위한 버스라는 개념과 더욱 과거로 들어가면 노우스 브릿지 사우스 브릿지 등의 개념이 필요했다.<br>
  그러나 이러한 방식은 하드디스크의 최대 속도에 맞추어서 짜여진 시스템이므로 그보다 빠른 ssd에는 부적합하였다.
  - 따라서 ssd는 pcie버스라는 새로운 방식의 버스와 함께 전송 프로토콜 역시 nvme라는 독특한 방식을 사용한다.

  ## ssd의 읽기
  - 기본적으로 페이지라는 단위를 사용하는데 이는 위에서 말한 여러개의 셀을 모아 논리적으로 어떠한 단위로 읽을 것인가가 바로 페이지의 의미이다.
  - 만약 내가 원하는 데이터가 너무 작아 페이지보다 더 작은 데이터일 때에 ssd는 하나의 페이지를 읽어온 뒤 불필요한 부분을 버리는 방식으로 작동한다.
  ### 작동방식
  - ssd컨트롤러는 cpu나 os단에서 통신 프로토콜을 통해 들어온 명령을 받는다. (매핑 테이블 확인)
  - ssd컨트롤러는 저 물리적인 주소값이 정확히 어디에 있는지를 알 수 없으므로 ssd컨트롤러 내부의 dram캐시에 접근을 한다.(cpu내의 캐시 아님!!!)
  - 만약 ssd컨트롤러 내부의 dram캐시에서 히트가 발생하면 바로 cpu에 정보를 전송하고 그렇지 않다면 ssd내에 내가 찾고자하는 주소가 있는 것이다.
  - 조회한 정보를 이후에 컨트롤러는 cpu에 정보를 전송한다.
